This was the Final Project of HarvardX's CS50w course.
Full project specification here: https://cs50.harvard.edu/web/2020/projects/final/capstone/

---
# Capstone project

Project Name: Music Player<br>

## About

Music Player is a web application built using React and Django. It allows a group of people to control the music being played in a playlist generated by the Spotify app in unity. The host creates a room in the Music Player app and a code is generated and sent to other users who can use this code to connect to the room where a playlist is being played through the Spotify app. When accessing the Music Player app, users are authenticated through a personal account in the Spotify app and redirected to the Music Player app where they can join a room with the code provided by the host. After joining the room they can listen to the song that is currently playing on their own device and can vote to skip the song that is currently playing if they wish. When the number of votes reaches the required limit, the next song on the list is played. The host can allow or not the users to pause or play the music. The host also sets the number of votes needed for a song to be skipped.

## Distinctiveness and Complexity

The design is distinctive in many ways. One of them is the application's integration with the Spotify API, for authentication and to make it possible for the user to control the music being played in a Spotify playlist by the application itself, being able to advance, rewind, pause or play if he has permission to do so. Django is also configured to operate as an API, using the Django REST Framework.

The project frontend is built using the React library and not the Django html templates. The React frontend allows for fast coding of a transparent Single Page Application (SPA) with customizable aesthetics, quick DOM updates, among other benefits. Instead of having Django serving HTML, here it is configured to operate as an API (using the Django REST Framework), as would be expected in a single-page application. The React Material UI component library has also been integrated to help with styling.

Creating a project with this structure was considerably more complex than previous tasks due to APIs that had to be built to serve all the necessary data and more JavaScript needed to create reactive UI elements.

---
## Running the App

### Install Required Python Modules

```bash
pip install -r requirements.txt
```

### Start Web Server

To start the web server you need to run the following sequence of commands.

```bash
cd "capstone"
```

Next run the django web server.

```bash
python manage.py runserver
```

### [Install Node.js](https://nodejs.org/en/)

### Install Node Modules

First cd into the `frontend` folder.

```bash
cd frontend
```

Next install all dependicies.

```bash
npm i
```

### Compile the Frontend

Run the production compile script

```bash
npm run build
```

or for development:

```bash
npm run dev
```

### Spotify API Reference
https://developer.spotify.com/documentation/general/guides/

---
## Project Files

```
capstone                            # Main project folder
|   .gitignore                      # Files not tracked
│   README.md                       # This file
|   db.sqlite3                      # Project data base
|   manage.py                       # Application management script
│   requirements.txt                # List of libraries needed to run
│   
└───api                             # Backend API directory
│   │  models.py                    # Database models
│   │  serializers.py               # JSON <- communicate -> models/DB
│   │  urls.py                      # Define routes for querying project API
│   │  views.py                     # Handle req/res to api
│   │  ...
│
└───frontend                        # Frontend directory
│   │  babel.config.json            # Babel compiler settings
│   │  package.json                 # App configurations and dependencies
│   │  urls.py                      # Define routes for frontend
│   │  views.py                     # Handle req/res to frontend
│   │  webpack.config               # Webpack configurations
│   │  ...
│   └───src                         # Frontend source code
│   │   │  index.js                 # Js entry point
│   │   │
│   │   └───components              # Directory for React components
│   │       │  App.js               # React app main file
│   │       │  CreateRoomPage.js    # React component that renders Create room page
│   │       │  HomePage.js          # React component that renders the Home page
│   │       │  MusicPlayer.js       # React component that renders and controls Music Player actions
│   │       │  Room.js              # React component that controls the Room page
│   │       │  RoomJoinPage.js      # React component that renders Room join page
│   │
│   └───static                      # Directory for static resources
│   │   └───css                     # Directory for stylesheets
│   │   │   │  index.css            # App stylesheets 
│   │   │
│   │   └───frontend                # Directory for main.js file
│   │   │   ...
│   │   │
│   │   └───images                  # Directory for images
│   │       ...
│   │
│   └───templates                   # App templates
│       └───frontend                # Directory for entry point
│           │  index.html           # App entry point React HTML page where React id="app" is located
│
└───music                           # Django main app folder
│   │  asgi.py                      # Asynconous web servers and wrapped in middleware
│   │  settings.py                  # Project settings
│   │  urls.py                      # Path configuration
│   │  ...
│
└───spotify                         # Spotify API directory
    │  credentials.py               # Spotyfy required credentials
    │  models.py                    # Spotyfy API models
    │  urls.py                      # Define routes for spotify API
    │  util.py                      # Functions used for autentication
    │  views.py                     # Handle req/res to spotify API
    │  ...

```
